<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProElectro | Enterprise CRM</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>

    <div id="login-screen" class="login-container">
        <div class="login-box">
            <h2>üîê –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h2>
            <form id="login-form">
                <input type="password" id="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞" required>
                <button type="submit">–í–æ–π—Ç–∏</button>
            </form>
            <p id="login-error" class="error-msg"></p>
        </div>
    </div>

    <div id="app" class="app-container hidden">
        
        <aside class="sidebar">
            <div class="brand">
                ‚ö°Ô∏è <span>ProElectro</span>
            </div>
            <nav class="menu">
                <button class="menu-item active" data-tab="dashboard">
                    <i data-feather="pie-chart"></i> –î–∞—à–±–æ—Ä–¥
                </button>
                <button class="menu-item" data-tab="orders">
                    <i data-feather="list"></i> –ó–∞–∫–∞–∑—ã
                </button>
                <button class="menu-item" data-tab="finance">
                    <i data-feather="dollar-sign"></i> –§–∏–Ω–∞–Ω—Å—ã
                </button>
                <button class="menu-item" data-tab="settings">
                    <i data-feather="settings"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                </button>
            </nav>
            <div class="sidebar-footer">
                <button id="logout-btn"><i data-feather="log-out"></i> –í—ã—Ö–æ–¥</button>
            </div>
        </aside>

        <main class="main-content">
            
            <header class="top-bar">
                <h1 id="page-title">–û–±–∑–æ—Ä</h1>
                <div class="user-info">
                    <span class="badge admin">Admin</span>
                    <span id="date-display"></span>
                </div>
            </header>

            <section id="tab-dashboard" class="tab-content active">
                <div class="kpi-grid">
                    <div class="card kpi-card">
                        <div class="kpi-icon blue"><i data-feather="activity"></i></div>
                        <div class="kpi-info">
                            <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ</h3>
                            <p id="kpi-active">-</p>
                        </div>
                    </div>
                    <div class="card kpi-card">
                        <div class="kpi-icon green"><i data-feather="check-circle"></i></div>
                        <div class="kpi-info">
                            <h3>–ó–∞–≤–µ—Ä—à–µ–Ω–æ</h3>
                            <p id="kpi-done">-</p>
                        </div>
                    </div>
                    <div class="card kpi-card">
                        <div class="kpi-icon orange"><i data-feather="briefcase"></i></div>
                        <div class="kpi-info">
                            <h3>–û–±–æ—Ä–æ—Ç</h3>
                            <p id="kpi-revenue">-</p>
                        </div>
                    </div>
                    <div class="card kpi-card">
                        <div class="kpi-icon purple"><i data-feather="trending-up"></i></div>
                        <div class="kpi-info">
                            <h3>–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å</h3>
                            <p id="kpi-profit">-</p>
                        </div>
                    </div>
                </div>

                <div class="section-header">
                    <h2>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
                </div>
                <div class="actions-grid">
                    <button class="btn primary" onclick="openModal('modal-create-order')">
                        <i data-feather="plus"></i> –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
                    </button>
                    <button class="btn secondary" onclick="app.refreshData()">
                        <i data-feather="refresh-cw"></i> –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
                    </button>
                </div>
            </section>

            <section id="tab-orders" class="tab-content">
                <div class="filters">
                    <button class="filter-btn active" onclick="app.loadOrders('all')">–í—Å–µ</button>
                    <button class="filter-btn" onclick="app.loadOrders('new')">–ù–æ–≤—ã–µ</button>
                    <button class="filter-btn" onclick="app.loadOrders('work')">–í —Ä–∞–±–æ—Ç–µ</button>
                    <button class="filter-btn" onclick="app.loadOrders('done')">–ó–∞–∫—Ä—ã—Ç—ã–µ</button>
                </div>
                
                <div class="card table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ö–ª–∏–µ–Ω—Ç</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–ú–∞—Å—Ç–µ—Ä</th>
                                <th>–°–º–µ—Ç–∞</th>
                                <th>–†–∞—Å—Ö–æ–¥—ã</th>
                                <th>–ü—Ä–∏–±—ã–ª—å</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="orders-table-body">
                            </tbody>
                    </table>
                </div>
            </section>

            <section id="tab-finance" class="tab-content">
                <div class="finance-grid">
                    <div class="card">
                        <h3>üí∞ –ö–∞—Å—Å—ã –∏ –°—á–µ—Ç–∞</h3>
                        <div id="accounts-list" class="accounts-list">
                            </div>
                    </div>
                    <div class="card">
                        <h3>üìä –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h3>
                        <div class="table-scroll">
                            <table class="data-table small">
                                <thead>
                                    <tr>
                                        <th>–î–∞—Ç–∞</th>
                                        <th>–ö–∞—Å—Å–∞</th>
                                        <th>–¢–∏–ø</th>
                                        <th>–°—É–º–º–∞</th>
                                        <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
                                    </tr>
                                </thead>
                                <tbody id="transactions-body">
                                    </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <section id="tab-settings" class="tab-content">
                <div class="card">
                    <h3>üõ† –ü—Ä–∞–π—Å-–ª–∏—Å—Ç (–¶–µ–Ω—ã)</h3>
                    <p class="hint">–ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –Ω–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å.</p>
                    <div id="settings-grid" class="settings-grid">
                        </div>
                </div>
            </section>

        </main>
    </div>

    <div id="modal-create-order" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('modal-create-order')">&times;</span>
            <h2>–ù–æ–≤—ã–π –∑–∞–∫–∞–∑ (–í—Ä—É—á–Ω—É—é)</h2>
            <form id="create-order-form">
                <div class="form-group">
                    <label>–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞</label>
                    <input type="text" name="clientName" required>
                </div>
                <div class="form-group">
                    <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="text" name="clientPhone" placeholder="+7..." required>
                </div>
                <div class="row">
                    <div class="form-group">
                        <label>–ü–ª–æ—â–∞–¥—å (–º¬≤)</label>
                        <input type="number" name="area" required>
                    </div>
                    <div class="form-group">
                        <label>–ö–æ–º–Ω–∞—Ç</label>
                        <input type="number" name="rooms" value="1" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>–°—Ç–µ–Ω—ã</label>
                    <select name="wallType">
                        <option value="light">–ì–∞–∑–æ–±–ª–æ–∫ / –ì–ö–õ</option>
                        <option value="brick">–ö–∏—Ä–ø–∏—á</option>
                        <option value="concrete">–ë–µ—Ç–æ–Ω / –ú–æ–Ω–æ–ª–∏—Ç</option>
                    </select>
                </div>
                <button type="submit" class="btn primary full">–°–æ–∑–¥–∞—Ç—å</button>
            </form>
        </div>
    </div>

    <div id="modal-add-expense" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('modal-add-expense')">&times;</span>
            <h2>–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥</h2>
            <p id="expense-order-info" class="hint"></p>
            <form id="add-expense-form">
                <input type="hidden" id="expense-order-id" name="orderId">
                <div class="form-group">
                    <label>–°—É–º–º–∞ (‚Ç∏)</label>
                    <input type="number" name="amount" required>
                </div>
                <div class="form-group">
                    <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select name="category">
                        <option value="material">–ú–∞—Ç–µ—Ä–∏–∞–ª</option>
                        <option value="taxi">–¢–∞–∫—Å–∏ / –õ–æ–≥–∏—Å—Ç–∏–∫–∞</option>
                        <option value="food">–ü–∏—Ç–∞–Ω–∏–µ</option>
                        <option value="tools">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç</option>
                        <option value="other">–ü—Ä–æ—á–µ–µ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
                    <input type="text" name="comment">
                </div>
                <button type="submit" class="btn danger full">–°–ø–∏—Å–∞—Ç—å</button>
            </form>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/app.js"></script>
    <script>
        feather.replace();
    </script>
</body>
</html>