/**
 * @file src/constants.js
 * @description –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, —Ç–µ–∫—Å—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
 * Clean Architecture & Business Logic.
 */

// =============================================================================
// 1. –¢–ï–ö–°–¢–´ –ö–ù–û–ü–û–ö (BUTTONS)
// =============================================================================
export const BUTTONS = Object.freeze({
  // --- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ---
  CALCULATE: "üöÄ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å",
  ORDERS: "üìÇ –ú–æ–∏ —Ä–∞—Å—á–µ—Ç—ã",
  PRICE_LIST: "üí∞ –ü—Ä–∞–π—Å-–ª–∏—Å—Ç",
  CONTACTS: "üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã",
  HOW_WORK: "üõ† –ö–∞–∫ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º",

  // --- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Admin) ---
  ADMIN_PANEL: "üëë –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å",
  ADMIN_STATS: "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
  ADMIN_ORDERS: "üì¶ –ó–∞–∫–∞–∑—ã",
  ADMIN_SETTINGS: "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏",
  ADMIN_STAFF: "üë• –ü–µ—Ä—Å–æ–Ω–∞–ª",
  ADMIN_SQL: "üë®‚Äçüíª SQL",

  // --- –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –¥–µ–π—Å—Ç–≤–∏—è ---
  BACK: "üîô –ù–∞–∑–∞–¥",
  CANCEL: "‚ùå –û—Ç–º–µ–Ω–∞",
  SHARE_PHONE: "üì± –û—Ç–ø—Ä–∞–≤–∏—Ç—å –º–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞",

  // --- –î–µ–π—Å—Ç–≤–∏—è —Å –∑–∞—è–≤–∫–æ–π ---
  ACTION_SAVE: "‚úÖ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞—è–≤–∫—É",
  ACTION_RECALC: "üîÑ –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å",
  ACTION_CONTACT: "üí¨ –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –≤ WhatsApp",
});

// =============================================================================
// 2. –ö–õ–ê–í–ò–ê–¢–£–†–´ (KEYBOARDS)
// =============================================================================
export const KEYBOARDS = {
  /**
   * –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ)
   * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–¥–º–∏–Ω-–∫–Ω–æ–ø–∫—É —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞–º –∏ –∞–¥–º–∏–Ω–∞–º.
   */
  MAIN_MENU: (role) => {
    const layout = [
      [{ text: BUTTONS.CALCULATE }], // 1 —Ä—è–¥: –†–∞—Å—á–µ—Ç
      [{ text: BUTTONS.ORDERS }, { text: BUTTONS.PRICE_LIST }], // 2 —Ä—è–¥: –ú–æ–∏ —Ä–∞—Å—á–µ—Ç—ã | –ü—Ä–∞–π—Å
      [{ text: BUTTONS.CONTACTS }, { text: BUTTONS.HOW_WORK }], // 3 —Ä—è–¥: –ö–æ–Ω—Ç–∞–∫—Ç—ã | –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ–º
    ];

    // –î–æ–±–∞–≤–ª—è–µ–º –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞
    if (["admin", "owner"].includes(role)) {
      layout.push([{ text: BUTTONS.ADMIN_PANEL }]);
    }

    return {
      keyboard: layout,
      resize_keyboard: true,
    };
  },

  /**
   * –ó–∞–ø—Ä–æ—Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (Registration)
   * –ö—Ä—É–ø–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞ –≤ –æ–¥–∏–Ω –∫–ª–∏–∫.
   */
  PHONE_REQUEST: {
    keyboard: [[{ text: BUTTONS.SHARE_PHONE, request_contact: true }]],
    resize_keyboard: true,
    one_time_keyboard: true, // –°–∫—Ä—ã–≤–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è
  },

  /**
   * –î–µ–π—Å—Ç–≤–∏—è –≤ –∫–æ–Ω—Ç–∞–∫—Ç–∞—Ö (Contact Actions)
   * –°—Å—ã–ª–∫–∏ –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã.
   */
  CONTACT_ACTIONS: {
    inline_keyboard: [
      [{ text: "üí¨ –ù–∞–ø–∏—Å–∞—Ç—å –≤ WhatsApp", url: "https://wa.me/77766066323" }],
      [{ text: "üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å", url: "tel:+77766066323" }],
    ],
  },

  /**
   * –í—ã–±–æ—Ä —Å—Ç–µ–Ω (Calculation Step)
   * Inline-–∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞.
   */
  WALL_TYPES: {
    inline_keyboard: [
      [{ text: "üß± –ì–∞–∑–æ–±–ª–æ–∫ / –ì–ö–õ", callback_data: "wall_gas" }],
      [{ text: "üß± –ö–∏—Ä–ø–∏—á", callback_data: "wall_brick" }],
      [{ text: "üèó –ë–µ—Ç–æ–Ω / –ú–æ–Ω–æ–ª–∏—Ç", callback_data: "wall_concrete" }],
    ],
  },

  /**
   * –î–µ–π—Å—Ç–≤–∏—è –ø–æ—Å–ª–µ —Ä–∞—Å—á–µ—Ç–∞ (Estimation Result)
   * –°–∞–º—ã–π –≤–∞–∂–Ω—ã–π –±–ª–æ–∫ ‚Äî –∫–æ–Ω–≤–µ—Ä—Å–∏—è –∫–ª–∏–µ–Ω—Ç–∞ –≤ –∑–∞—è–≤–∫—É.
   */
  ESTIMATE_ACTIONS: {
    inline_keyboard: [
      [
        {
          text: BUTTONS.ACTION_SAVE,
          callback_data: "save_order", // –í–∞–∂–Ω–æ: —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ö–µ–Ω–¥–ª–µ—Ä–æ–º bot.action('save_order')
        },
      ],
      [
        {
          text: BUTTONS.ACTION_RECALC,
          callback_data: "cancel", // –í–æ–∑–≤—Ä–∞—Ç –≤ –º–µ–Ω—é –∏–ª–∏ —Ä–µ—Å—Ç–∞—Ä—Ç
        },
        {
          text: BUTTONS.ACTION_CONTACT,
          url: "https://wa.me/77766066323", // –°—Ä–∞–∑—É –≤ WhatsApp
        },
      ],
    ],
  },

  /**
   * –ö–Ω–æ–ø–∫–∞ –æ—Ç–º–µ–Ω—ã (Navigation)
   * –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –æ—Ç–º–µ–Ω—ã –¥–µ–π—Å—Ç–≤–∏—è.
   */
  CANCEL_MENU: {
    keyboard: [[{ text: BUTTONS.CANCEL }]],
    resize_keyboard: true,
  },

  /**
   * –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (Admin Dashboard)
   * –£–¥–æ–±–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
   */
  ADMIN_MENU: {
    keyboard: [
      [{ text: BUTTONS.ADMIN_STATS }, { text: BUTTONS.ADMIN_ORDERS }],
      [{ text: BUTTONS.ADMIN_SETTINGS }, { text: BUTTONS.ADMIN_STAFF }],
      [{ text: BUTTONS.ADMIN_SQL }, { text: BUTTONS.BACK }],
    ],
    resize_keyboard: true,
  },
};

// =============================================================================
// 3. –¢–ï–ö–°–¢–û–í–´–ï –°–û–û–ë–©–ï–ù–ò–Ø (TEXTS)
// =============================================================================
export const TEXTS = {
  welcome: (name) =>
    `üëã –ü—Ä–∏–≤–µ—Ç, ${name}!\n\nü§ñ –Ø ‚Äî <b>Pro Electric Bot</b>.\n–ü–æ–º–æ–≥—É —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å —ç–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–∞ –∑–∞ 1 –º–∏–Ω—É—Ç—É.`,

  // –ü—Ä–æ–¥–∞—é—â–∏–π —Ç–µ–∫—Å—Ç "–ö–∞–∫ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º"
  howWeWork:
    `<b>üõ† –°–¢–ê–ù–î–ê–†–¢–´ –ö–ê–ß–ï–°–¢–í–ê PRO ELECTRIC</b>\n` +
    `‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ\n\n` +
    `–ú—ã —Å–æ–∑–¥–∞–µ–º –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª—É–∂–∞—Ç 50+ –ª–µ—Ç:\n\n` +
    `‚úÖ <b>–°–æ–µ–¥–∏–Ω–µ–Ω–∏—è:</b> –¢–æ–ª—å–∫–æ <b>–æ–ø—Ä–µ—Å—Å–æ–≤–∫–∞ –≥–∏–ª—å–∑–∞–º–∏ (–ì–ú–õ)</b>. –≠—Ç–æ —Å–∞–º–æ–µ –Ω–∞–¥–µ–∂–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å. –ú—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–∫—Ä—É—Ç–∫–∏ –∏–ª–∏ –í–∞–≥–æ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ—Ä–æ–±–∫–∞—Ö.\n\n` +
    `‚úÖ <b>–ú–∞—Ç–µ—Ä–∏–∞–ª—ã:</b> –†–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ —Å –∫–∞–±–µ–ª–µ–º <b>–ì–û–°–¢ (–í–í–ì-–Ω–≥-LS)</b>. –≠—Ç–æ —á–µ—Å—Ç–Ω–æ–µ —Å–µ—á–µ–Ω–∏–µ –∂–∏–ª—ã –∏ –Ω–∞–¥–µ–∂–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è.\n\n` +
    `‚úÖ <b>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:</b> –ù–µ–≥–æ—Ä—é—á–∞—è –≥–æ—Ñ—Ä–∞, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –Ω–∞–≥—Ä—É–∑–æ–∫ –ø–æ –≥—Ä—É–ø–ø–∞–º, –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∞.\n\n` +
    `‚úÖ <b>–ß–∏—Å—Ç–æ—Ç–∞:</b> –®—Ç—Ä–æ–±–ª–µ–Ω–∏–µ —Å –ø—ã–ª–µ—Å–æ—Å–æ–º, —É–±–æ—Ä–∫–∞ –æ–±—ä–µ–∫—Ç–∞ –ø–æ—Å–ª–µ —á–µ—Ä–Ω–æ–≤–æ–≥–æ –º–æ–Ω—Ç–∞–∂–∞.\n\n` +
    `<i>–ú—ã –¥–∞–µ–º –≥–∞—Ä–∞–Ω—Ç–∏—é –Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂, –ø–æ—Ç–æ–º—É —á—Ç–æ —É–≤–µ—Ä–µ–Ω—ã –≤ —Å–≤–æ–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö.</i>`,

  // –¢–µ–∫—Å—Ç –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
  contacts:
    `<b>üìû –ù–ê–®–ò –ö–û–ù–¢–ê–ö–¢–´</b>\n` +
    `‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ\n\n` +
    `–ï—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã? –ü–∏—à–∏—Ç–µ –∏–ª–∏ –∑–≤–æ–Ω–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é –ì–ª–∞–≤–Ω–æ–º—É –ò–Ω–∂–µ–Ω–µ—Ä—É.\n\n` +
    `üë§ <b>–ï—Ä–Ω–∏—è–∑</b> (–ì–ª–∞–≤–Ω—ã–π –∏–Ω–∂–µ–Ω–µ—Ä)\n` +
    `üìç <b>–≥. –ê–ª–º–∞—Ç—ã</b>\n\n` +
    `üëá <i>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Å–≤—è–∑–∏:</i>`,

  // –î–∏—Å–∫–ª–µ–π–º–µ—Ä –¥–ª—è —Å–º–µ—Ç—ã
  estimateFooter:
    `\n‚ö†Ô∏è <b>–í–ê–ñ–ù–û:</b>\n` +
    `1. –¶–µ–Ω–∞ —É–∫–∞–∑–∞–Ω–∞ <b>—Ç–æ–ª—å–∫–æ –∑–∞ —Ä–∞–±–æ—Ç—ã</b> (–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ).\n` +
    `2. –ú–∞—Ç–µ—Ä–∏–∞–ª—ã (–∫–∞–±–µ–ª—å, –≥–æ—Ñ—Ä–∞, –ø–æ–¥—Ä–æ–∑–µ—Ç–Ω–∏–∫–∏) —Å—á–∏—Ç–∞—é—Ç—Å—è –ø–æ —Ñ–∞–∫—Ç—É –∑–∞–º–µ—Ä–∞ –∏ –æ–ø–ª–∞—á–∏–≤–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ.\n` +
    `3. –¢–æ—á–Ω–∞—è —Å–º–µ—Ç–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–µ–∑–¥–∞ –º–∞—Å—Ç–µ—Ä–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç.`,
};

// =============================================================================
// 4. –ù–ê–°–¢–†–û–ô–ö–ò –ò –°–û–°–¢–û–Ø–ù–ò–Ø (CONFIGS)
// =============================================================================

// –°–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (State Machine)
export const USER_STATES = {
  IDLE: "IDLE",
  WAIT_PHONE: "WAIT_PHONE", // –û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  CALC_WAIT_AREA: "CALC_WAIT_AREA",
  CALC_WAIT_WALL: "CALC_WAIT_WALL",
  CALC_WAIT_ROOMS: "CALC_WAIT_ROOMS",
};

// –ö–ª—é—á–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ü–µ–Ω)
export const DB_KEYS = {
  PRICE_POINT_CONCRETE: "price_point_concrete",
  PRICE_POINT_BRICK: "price_point_brick",
  PRICE_POINT_GAS: "price_point_gas",
  PRICE_STROBE_CONCRETE: "price_strobe_concrete",
  PRICE_STROBE_BRICK: "price_strobe_brick",
  PRICE_STROBE_GAS: "price_strobe_gas",
  PRICE_CABLE: "price_cable", // –¶–µ–Ω–∞ –º–µ—Ç—Ä–∞ –ø—Ä–æ–∫–ª–∞–¥–∫–∏
  PRICE_CORRUGATION: "price_corrugation", // –¶–µ–Ω–∞ –º–µ—Ç—Ä–∞ –≥–æ—Ñ—Ä—ã
  PRICE_PANEL: "price_panel", // –¶–µ–Ω–∞ —Å–±–æ—Ä–∫–∏ —â–∏—Ç–∞
};

// –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤
export const ORDER_STATUS = {
  NEW: "new",
  WORK: "work",
  DONE: "done",
  CANCEL: "cancel",
};

// –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
export const MESSAGES = {
  USER: {
    WIZARD_STEP_1_AREA: "üìè –í–≤–µ–¥–∏—Ç–µ –ø–ª–æ—â–∞–¥—å –ø–æ–º–µ—â–µ–Ω–∏—è (–º¬≤):",
    WIZARD_STEP_2_WALL: "üß± –í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª —Å—Ç–µ–Ω:",
    WIZARD_STEP_3_ROOMS: "üö™ –í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç:",
    SESSION_EXPIRED: "‚è≥ –°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞. –ù–∞–∂–º–∏—Ç–µ /start",
  },
};
